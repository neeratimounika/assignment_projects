(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"4MmS":function(n,t,e){"use strict";e.r(t),e.d(t,"DocumentsPageModule",(function(){return w}));var o=e("mrSG"),i=e("fXoL"),a=e("ofXK"),r=e("3Pt+"),s=e("TEn/"),c=e("tyNb"),d=e("9ans"),l=e("AytR"),h=e("jhN1");let m=class{constructor(n,t,e,o){this.router=n,this.navCtlr=t,this.auth=e,this.titleService=o,this.verifiedUserTypes=l.a.verified_user_type.includes(this.auth.userProfile().user_type),this.documents=null,this.title=null,this.msplr=null,this.headerTab="ALL",this.cardErrImg=l.a.cardErrImg,this.loadingImg=l.a.loadingImg,this.health=!1,this.bai=!1,this.ministry=!1,this.educat=!1,this.catWiseData=[],this.subCatWiseData=[]}ngOnInit(){const n=this.router.getCurrentNavigation().extras.state;null!=n?(this.documents=n.documents,this.documents.sort((n,t)=>n.docDescription>t.docDescription?1:-1),this.catWiseData=n.documents,this.searchDocumentsArray=this.documents,this.title=n.title,this.searchShow=this.documents.length>7,this.dataformet()):this.navCtlr.navigateRoot("dashboard")}ionViewDidEnter(){this.titleService.setTitle("Documents"),this.goToTop()}goToTop(){this.content.scrollToTop(400)}dataformet(){return Object(o.b)(this,void 0,void 0,(function*(){yield this.catWiseData.forEach(n=>{n.catId.forEach(n=>{this.subCatWiseData[n.catId]=[]})}),yield this.catWiseData.forEach(n=>{n.catId.forEach(t=>{this.subCatWiseData[t.catId].push(n),2==t.catId&&(this.educat=!0),7==t.catId&&(this.health=!0),1==t.catId&&(this.bai=!0),8==t.catId&&(this.ministry=!0)})}),this.content.scrollToTop(400)}))}catWiseDataArray(n){100==n?(this.documents=this.catWiseData,this.searchDocumentsArray=this.documents):100!=n&&(this.searchDocumentsArray=[],this.documents=[],this.catData(this.subCatWiseData[parseInt(n)]))}catData(n){return Object(o.b)(this,void 0,void 0,(function*(){let t=[];yield n.forEach(n=>{t[n.orgId]=[]}),yield n.forEach(n=>{t[n.orgId].push(n)});let e=Object.values(t);this.educationdocuments=e,this.searchDocumentsArray=this.educationdocuments}))}goTodocuments(n){let t={documents:n,title:n[0].orgName,msplr:!1};sessionStorage.setItem("fetchDoc",JSON.stringify(t)),this.navCtlr.navigateForward("dashboard/documents",{state:t})}goToUrl(n){this.auth.isLogin()?this.verifiedUserTypes?"NHCRD"!=n.docTypeId&&"003596"!=n.orgId?"ADHAR"==n.docTypeId?this.updateAadhar(n):this.fetchDocument(n):this.navCtlr.navigateForward("/uhid"):"ADHAR"==n.docTypeId?this.updateAadhar(n):this.verifyAadhar(n):"NHCRD"!=n.docTypeId&&"003596"!=n.orgId?this.gotToLogin(n):(sessionStorage.setItem("fetchDoc","uhid"),this.router.navigateByUrl("login"))}updateAadhar(n){return Object(o.b)(this,void 0,void 0,(function*(){this.navCtlr.navigateForward("dashboard/documents/aadhar",{state:n})}))}verifyAadhar(n){return Object(o.b)(this,void 0,void 0,(function*(){this.navCtlr.navigateRoot("verify-aadhaar")}))}searchDocuments(n){let t=n.target.value;this.searchDocumentsArray=this.documents.filter(n=>{if(null==n.searchKeywords&&(n.searchKeywords=n.docDescription+" "+n.orgName+" "+n.orgState+" "+n.orgDescriptio+" "+n.catId),null!=n.searchKeywords)return n.searchKeywords.toLowerCase().indexOf(t.toLowerCase())>-1})}fetchDocument(n){return Object(o.b)(this,void 0,void 0,(function*(){this.navCtlr.navigateForward("dashboard/documents/fetch",{state:n})}))}dismiss(){this.navCtlr.pop()}gotToLogin(n){return Object(o.b)(this,void 0,void 0,(function*(){sessionStorage.setItem("fetchDoc",JSON.stringify(n)),this.router.navigateByUrl("login")}))}};m.ctorParameters=()=>[{type:c.g},{type:s.i},{type:d.a},{type:h.d}],Object(o.c)([Object(i.nb)(s.b)],m.prototype,"content",void 0),m=Object(o.c)([Object(i.n)({selector:"app-documents",template:Object(o.e)(e("CuUi")).default,styles:[Object(o.e)(e("Bq1Z")).default]})],m);const u=[{path:"",component:m}];let g=class{};g=Object(o.c)([Object(i.M)({imports:[c.i.forChild(u)],exports:[c.i]})],g);var b=e("aDnW"),p=e("sYmb"),f=e("wf0l");let w=class{};w=Object(o.c)([Object(i.M)({imports:[a.b,r.b,s.d,b.a,p.b.forChild(),f.a,g],declarations:[m]})],w)},Bq1Z:function(n,t,e){"use strict";e.r(t),t.default="ion-card {\n  cursor: pointer;\n  display: inline-block;\n  margin-right: 6px;\n  margin-left: 4px;\n  margin-bottom: 15px;\n  width: 30%;\n}\n@media only screen and (min-width: 425px) {\n  ion-card {\n    width: 30%;\n  }\n}\n@media only screen and (min-width: 768px) {\n  ion-card {\n    width: 20%;\n  }\n}\n@media only screen and (min-width: 992px) {\n  ion-card {\n    width: 13%;\n  }\n}\nion-card .ion-text-wrap {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-height: 33px;\n  font-size: 11px;\n}\n@media only screen and (min-width: 768px) {\n  ion-card .ion-text-wrap {\n    font-size: 14px;\n  }\n}\nion-card ion-card-header {\n  max-height: 136px;\n  min-height: 136px;\n}\nion-card ion-thumbnail {\n  --size: 90%;\n}\nion-grid {\n  min-height: 73vh;\n}\n.searchCard ion-card {\n  cursor: pointer;\n  display: inline-block;\n  margin-right: 15px;\n  margin-bottom: 15px;\n  margin-top: 8px;\n  width: 100%;\n}\n@media only screen and (min-width: 425px) {\n  .searchCard ion-card {\n    width: 100%;\n  }\n}\n@media only screen and (min-width: 768px) {\n  .searchCard ion-card {\n    width: 100%;\n  }\n}\n@media only screen and (min-width: 992px) {\n  .searchCard ion-card {\n    width: 100%;\n  }\n}\n.searchCard ion-item:hover {\n  --background: #E2E0E0 !important;\n  cursor: pointer;\n}\n.docs {\n  cursor: pointer;\n  display: inline-block;\n  width: 40%;\n  height: 60%;\n}\n@media only screen and (min-width: 425px) {\n  .docs {\n    width: 30%;\n  }\n}\n@media only screen and (min-width: 768px) {\n  .docs {\n    width: 15%;\n  }\n}\n@media only screen and (min-width: 992px) {\n  .docs {\n    width: 12%;\n  }\n}\n.docs .ion-text-wrap {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-height: 42px;\n}\nion-avatar {\n  --border-radius: 0px !important;\n  padding: 3px;\n}"},CuUi:function(n,t,e){"use strict";e.r(t),t.default='\x3c!-- <ion-header>\n    <ion-toolbar>\n        <ion-buttons slot="start">\n            <ion-menu-button></ion-menu-button>\n        </ion-buttons> --\x3e\n\x3c!-- <ion-title>\n          <ion-searchbar *ngIf="searchShow" [(ngModel)]="filterTerm" placeholder="Search to fetch {{title}}" animated="true" (ionInput)="searchDocuments($event)">\n          </ion-searchbar>\n      </ion-title> --\x3e\n\x3c!-- </ion-toolbar>\n</ion-header> --\x3e\n<ion-content>\n\n    <ion-grid [fixed]="true" class="ion-padding">\n        <div class="pageMargin"></div>\n        <ion-row class="ion-no-margin ion-margin-bottom ion-no-margin-top">\n            <ion-col size-md="8" size="12">\n                <ion-toolbar>\n                    <ion-title color="tertiary">\n                        <strong>{{title| translate}} </strong>\n                    </ion-title>\n\n                    <ion-buttons slot="start">\n                        <ion-button (click)="dismiss()" color="dark" fill="clear" shape="round" size="small">\n                            <ion-icon ios="arrow-back" md="arrow-back"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-toolbar>\n            </ion-col>\n            <ion-col size-md="4" size="12" *ngIf="headerTab == \'ALL\'">\n                <ion-searchbar *ngIf="searchShow" [(ngModel)]="filterTerm" placeholder="{{\'Search\'| translate}}" animated="true" (ionInput)="searchDocuments($event)">\n                </ion-searchbar>\n            </ion-col>\n        </ion-row>\n\n        <ion-segment [(ngModel)]="headerTab" scrollable>\n            <ion-segment-button value="ALL" (click)="catWiseDataArray(100)">\n                <ion-label>{{"All" | translate}} </ion-label>\n            </ion-segment-button>\n            <ion-segment-button *ngIf="educat" value="EDUCAT" (click)="catWiseDataArray(2)">\n                <ion-label> {{"Education" | translate}}</ion-label>\n            </ion-segment-button>\n            <ion-segment-button *ngIf="bai" value="BAI" (click)="catWiseDataArray(1)">\n                <ion-label>{{"Banking and Insurance" | translate}} </ion-label>\n            </ion-segment-button>\n            <ion-segment-button *ngIf="health" value="HEALTH" (click)="catWiseDataArray(7)">\n                <ion-label> {{"Health" | translate}} </ion-label>\n            </ion-segment-button>\n            <ion-segment-button *ngIf="ministry" value="MINIS" (click)="catWiseDataArray(8)">\n                <ion-label> {{"Ministry of Defence" | translate}} </ion-label>\n            </ion-segment-button>\n        </ion-segment>\n\n\n        <ion-row *ngIf="!searchDocumentsArray.length">\n            <ion-col size-md="8" offset-md="2" size="12">\n                <ion-row class="ion-margin">\n                    <ion-col class="ion-text-center">\n                        <img [lazyLoad]="\'https://img1.digitallocker.gov.in/assets/img/icons/Search-not-found.svg\'" [defaultImage]="loadingImg" [errorImage]="cardErrImg" offset="100" alt="Search Not Found">\n                    </ion-col>\n                </ion-row>\n                <ion-title color="dark" class=" ion-text-center">\n                    <h1>{{"Sorry we couldn\'t find any results" | translate}}</h1>\n                </ion-title>\n                <ion-title class="ion-text-center">\n                    <h3>{{"Please try with another keyword" | translate}}</h3>\n                </ion-title>\n            </ion-col>\n        </ion-row>\n        <div *ngIf="headerTab == \'ALL\'">\n            <ion-row class="searchCard">\n                <ion-card class="docs" mode="ios">\n                    <ion-item lines="full" title="{{doc.orgName | translate}}" *ngFor="let doc of searchDocumentsArray" (click)="goToUrl(doc)">\n                        <ion-avatar slot="start">\n                            <img [lazyLoad]="doc.link" alt="{{doc.docDescription}}" [defaultImage]="loadingImg" [errorImage]="cardErrImg" offset="100">\n                        </ion-avatar>\n                        <ion-label>{{doc.docDescription | translate}} <br><small> {{doc.orgName | translate}} </small> </ion-label>\n                    </ion-item>\n                </ion-card>\n            </ion-row>\n        </div>\n        \x3c!-- <div *ngIf="headerTab == \'EDUCAT\' ||headerTab == \'HEALTH\' ||headerTab == \'BAI\' && !searchDocumentsArray.length">\n        <ion-row class="searchCard">\n            <ion-card class="docs" mode="ios">\n                <ion-item lines="full" title="{{doc[0].orgName | translate}}" *ngFor="let doc of educationdocuments" (click)="goTodocuments(doc)">\n                    <ion-avatar slot="start">\n                        <img [lazyLoad]="\'https://img1.digitallocker.gov.in/public/assets/logo/issuers/\'+doc[0].orgId+\'.png\'" alt="{{doc.docDescription}}" [defaultImage]="loadingImg" [errorImage]="cardErrImg" offset="100">\n                    </ion-avatar>\n                    <ion-label>{{doc[0].orgName| translate}} </ion-label>\n                </ion-item>\n            </ion-card>\n        </ion-row>\n    </div> --\x3e\n        <ion-row class="ion-margin-top" *ngIf="headerTab == \'EDUCAT\' ||headerTab == \'HEALTH\' ||headerTab == \'BAI\' || headerTab == \'MINIS\' ">\n            <ion-card class="ion-no-margin" mode="ios" *ngFor="let doc of educationdocuments" (click)="goTodocuments(doc)" title="{{doc[0].orgName | translate}}">\n\n                <ion-card-header>\n                    <ion-thumbnail style="margin: auto;">\n                        <img [lazyLoad]="doc[0].issuerLogo" alt="{{doc[0].orgName}}" [defaultImage]="loadingImg" [errorImage]="cardErrImg" offset="100">\n                    </ion-thumbnail>\n                </ion-card-header>\n                <ion-card-content>\n\n                    <ion-label class="ion-text-wrap" color="dark">{{doc[0].orgName| translate}}</ion-label>\n                    <div class="subtext">\n                        \x3c!-- <ion-label class="ion-text-wrap" color="medium"><small>{{doc[0].orgState| translate}}</small>\n                    </ion-label> --\x3e\n                    </div>\n                </ion-card-content>\n            </ion-card>\n        </ion-row>\n\n    </ion-grid>\n    <app-footer *ngIf="!auth.isLogin()"></app-footer>\n</ion-content>'}}]);