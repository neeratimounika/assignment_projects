(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{bE6s:function(n,o,i){"use strict";i.r(o),o.default=".card {\n  cursor: pointer;\n  display: inline-block;\n  margin-right: 10px;\n  margin-left: -2px;\n  margin-bottom: 10px;\n  margin-top: 8px;\n  width: 100%;\n}\n\n.profileCardBody {\n  padding: 10px;\n  justify-content: center;\n  width: 100%;\n  color: black;\n  background-color: #DEF6FF;\n  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0) !important;\n}\n\n.mgf {\n  margin-top: 5px;\n  width: 400px;\n}\n\n.kycCard {\n  margin: 0px 5px;\n  font-size: 8px;\n  background-color: #c5e8ee;\n  width: 75px;\n}\n\n.cardsubtext {\n  font-size: 12px;\n}\n\nion-chip {\n  --background-color: #fff;\n}\n\n.profilePhoto img {\n  border-radius: 50% !important;\n  width: 80px;\n}"},cFeu:function(n,o,i){"use strict";i.r(o),i.d(o,"ProfilePageModule",(function(){return x}));var e=i("mrSG"),t=i("fXoL"),r=i("ofXK"),s=i("3Pt+"),a=i("TEn/"),l=i("tyNb"),c=i("AytR"),d=i("sRcL"),p=i("4pnn"),h=i("jhN1"),g=i("mP49"),f=i("9ans");let m=class{constructor(n,o,i,e,t,r,s,a){this.router=n,this.navCtlr=o,this.ajax=i,this.cookieService=e,this.activatedRoute=t,this.titleService=r,this.modalController=s,this.auth=a,this.isSkeleton=!0,this.cardErrImg=c.a.cardErrImg,this.hlId=this.activatedRoute.snapshot.paramMap.get("hlId")}ionViewDidEnter(){this.titleService.setTitle("ABHA Profile")}ngOnInit(){this.isABHAtoken(this.hlId)}isABHAtoken(n){return Object(e.b)(this,void 0,void 0,(function*(){let o=this.auth.userProfile();this.digilockerId_ABHA_token=o.dlId+"_"+n;let i=yield this.cookieService.get(this.digilockerId_ABHA_token);null!=i?(this.phrtoken=i.replace(/"/g,""),this.profileABHA(),this.profileABHAqr()):this.navCtlr.navigateBack("services/abha")}))}profileABHAqr(){let n={"content-type":"application/json","X-AUTH-TOKEN":this.phrtoken},o=c.a.phrProfileQR;this.ajax.postMethod(o,{},n).subscribe(n=>{n.status?this.phrProfileQR="data:image/png;base64,"+n.response.attachment:this.ajax.showToast(n.response,5e3,"danger")})}goToLinkpage(){this.navCtlr.navigateForward("services/abha/hips/links",{state:{token:this.phrtoken,id:this.hlId}})}profileABHA(){let n={"content-type":"application/json","X-AUTH-TOKEN":this.phrtoken},o=c.a.phrPostLoginCalls;this.ajax.postMethod(o,{reqType:"profile"},n).subscribe(n=>{n.status?(this.isSkeleton=!1,this.phrProfile=n.response,null!=n.response.profilePhoto&&(this.profilePhoto="data:image/png;base64,"+n.response.profilePhoto)):(this.ajax.showToast(n.response.message,5e3,"danger"),this.cookieService.remove(this.digilockerId_ABHA_token),this.navCtlr.navigateBack("services/abha"))})}UploadedRecords(){this.navCtlr.navigateForward("services/abha/drive",{state:this.phrProfile.id})}incomingRecords(){this.abhaLoader();let n={"content-type":"application/json","X-AUTH-TOKEN":this.phrtoken},o=c.a.phrPostLoginCalls;this.ajax.postMethod(o,{reqType:"links"},n).subscribe(n=>{this.modalController.dismiss(),n.status?n.response.patient.links.length?this.navCtlr.navigateForward("services/abha/hips",{state:{resp:n.response,token:this.phrtoken}}):this.ajax.showToast("No link hospital",5e3,"warning"):this.ajax.showToast(n.response.message,5e3,"warning")})}abhaLoader(){return Object(e.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:g.a,cssClass:"abhaloaderView",swipeToClose:!0,componentProps:{},backdropDismiss:!1});n.present(),n.onDidDismiss().then(n=>{})}))}dismiss(){this.navCtlr.navigateBack("services/abha")}};m.ctorParameters=()=>[{type:l.g},{type:a.i},{type:d.a},{type:p.c},{type:l.a},{type:h.d},{type:a.h},{type:f.a}],m=Object(e.c)([Object(t.n)({selector:"app-profile",template:Object(e.e)(i("yOcB")).default,styles:[Object(e.e)(i("bE6s")).default]})],m);const b=[{path:"",component:m}];let u=class{};u=Object(e.c)([Object(t.M)({imports:[l.i.forChild(b)],exports:[l.i]})],u);let x=class{};x=Object(e.c)([Object(t.M)({imports:[r.b,s.b,a.d,u],declarations:[m]})],x)},yOcB:function(n,o,i){"use strict";i.r(o),o.default='\x3c!-- <ion-header>\n    <ion-toolbar>\n        <ion-title>drive</ion-title>\n    </ion-toolbar>\n</ion-header> --\x3e\n\n<ion-content>\n    <div class="pageMargin"></div>\n    <ion-grid [fixed]="true" *ngIf="phrProfile">\n        <ion-row>\n            <ion-col size-md="10" size="10">\n                <ion-toolbar *ngIf="phrProfile">\n                    <ion-title color="tertiary">\n                        <strong> {{phrProfile.id}} </strong>\n                    </ion-title>\n                    <ion-buttons slot="start">\n                        <ion-button (click)="dismiss()" color="dark" fill="clear" shape="round" size="small">\n                            <ion-icon ios="arrow-back" md="arrow-back"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-toolbar>\n            </ion-col>\n            <ion-col size-md="2" size="2">\n                <ion-toolbar>\n                    <ion-button expand="block" (click)="goToLinkpage()">Link Record</ion-button>\n                </ion-toolbar>\n            </ion-col>\n        </ion-row>\n        <ion-row>\n            <ion-col size-md="8" size="11" class="ion-no-padding ion-no-margin">\n                <ion-card mode="ios" *ngIf="phrProfile" class="ion-no-margin-top">\n                    <ion-row>\n                        <ion-col size="2" class="ion-padding">\n\n                            <img src="assets/img/abha-logo(1).svg" style="margin-left: 10px; margin-top: 16px; width: 87%;" />\n\n                        </ion-col>\n                        <ion-col size="7" class="ion-no-padding ion-no-margin">\n                            <ion-card-content class="ion-no-margin">\n                                <ion-card class="profileCardBody ion-no-margin">\n                                    <ion-row>\n                                        <ion-col class="ion-no-margin" size="4">\n                                            <div class="profilePhoto">\n                                                \x3c!-- [src]="profilePhoto?profilePhoto:\'assets/img/blank_profile_2.jpg\'" --\x3e\n                                                <img [src]="(profilePhoto == null)?\'assets/img/blank_profile.jpg\':profilePhoto" [errorImage]="cardErrImg" />\n                                            </div>\n\n                                            <ion-card class="kycCard">\n                                                <img src="{{(phrProfile.kycStatus === \'PENDING\')? \'assets/img/ic_round-non-verified-user.svg\':\'assets/img/ic_round-verified-user.svg \'}}" />\n                                                <span style="margin-bottom: 10px;">\n                                                      {{(phrProfile.kycStatus === \'PENDING\')? \'KYC Pending\':\'KYC Verified\'}}\n                                                    </span>\n                                            </ion-card>\n                                            \x3c!-- <ion-chip [color]="(phrProfile.kycStatus === \'PENDING\')?\'warning\': \'success\'" mode="ios" outline="true" class="ion-padding">\n                                                        <ion-avatar>\n                                                            <img src="{{(phrProfile.kycStatus === \'PENDING\')? \'assets/img/ic_round-non-verified-user.svg\':\'assets/img/ic_round-verified-user.svg \'}}" style="max-width: 15px; max-height: 17px;" />\n                                                        </ion-avatar>\n                                                        <ion-label style="font-size: 8px;" class="ion-no-padding"> {{(phrProfile.kycStatus === \'PENDING\')? \'KYC Pending\':\'KYC Verified\'}}</ion-label>\n                                                    </ion-chip> --\x3e\n                                        </ion-col>\n                                        <ion-col class="ion-no-padding ion-no-margin " size="8">\n                                            <ion-card-content class="ion-no-padding ion-no-margin ">\n\n                                                <h2><b>{{phrProfile.fullName}}</b></h2>\n                                                <p class="cardsubtext" *ngIf="phrProfile.id">ABHA Address: {{phrProfile.id}}</p>\n                                                <p class="cardsubtext" *ngIf="phrProfile.healthId">ABHA Number:{{phrProfile.healthId}}</p>\n                                                <p class="cardsubtext" *ngIf="phrProfile.dateOfBirth.date">DOB:{{phrProfile.dateOfBirth.date+\'/\'+phrProfile.dateOfBirth.month+\'/\'+phrProfile.dateOfBirth.year}}</p>\n                                                <p class="cardsubtext" *ngIf="!phrProfile.dateOfBirth.date">Birth year:{{phrProfile.dateOfBirth.year}}</p>\n                                                <p class="cardsubtext" *ngIf="phrProfile.gender">Gender: {{(phrProfile.gender == \'M\')?\'Male\':(phrProfile.gender==\'F\')?\'Female\':(phrProfile.gender==\'T\')?\'Transgender\':(phrProfile.gender==\'O\')?\'Other\':\'\'}}</p>\n                                                <p class="cardsubtext" *ngIf="phrProfile.address">Address: {{phrProfile.address}},{{phrProfile.stateName}},{{phrProfile.countryName}}</p>\n                                                <p class="cardsubtext" *ngIf="phrProfile.mobile">Mobile: {{phrProfile.mobile}}</p>\n                                            </ion-card-content>\n                                        </ion-col>\n                                    </ion-row>\n\n\n                                </ion-card>\n                            </ion-card-content>\n                        </ion-col>\n                        <ion-col size="3" class="ion-no-padding ion-no-margin ">\n                            <ion-card-header>\n                                <img [src]="phrProfileQR?phrProfileQR:\'assets/img/Group 520.png\'" style="max-width: 94%;" />\n                                \x3c!-- <img style="width: 40%;" [src]="assets/img/Group 520.png" /> --\x3e\n                            </ion-card-header>\n                        </ion-col>\n                    </ion-row>\n                </ion-card>\n            </ion-col>\n            <ion-col size-md="4" size="1"></ion-col>\n        </ion-row>\n        <ion-row>\n            <ion-col size-md="12" size="12">\n                <ion-col>\n                    \x3c!-- <ion-title class="lsm">\n                        <strong style="font-size: 15px;" style="color: rgb(12, 17, 70);"> My Health Records </strong>\n                    </ion-title> --\x3e\n\n                    <ion-row class="card">\n                        <ion-text color="tertiary" mode="ios">\n                            <h2 style="margin-left: 15px;"><strong>\n                                My Health Records\n                                </strong>\n                            </h2>\n                        </ion-text>\n                        <ion-card mode="ios">\n                            <ion-item lines="none" (click)="incomingRecords()">\n                                <ion-icon name="folder" color="warning" slot="start"></ion-icon>\n                                <ion-label>\n                                    Incoming Records\n                                </ion-label>\n                                <ion-icon style="color: grey; height: 15px;" name="chevron-forward-outline"></ion-icon>\n                            </ion-item>\n                        </ion-card>\n                        <ion-card mode="ios">\n                            <ion-item lines="none" (click)="UploadedRecords()">\n                                <ion-icon name="folder" color="warning" slot="start"></ion-icon>\n                                <ion-label>\n                                    Uploaded Records\n                                </ion-label>\n                                <ion-icon style="color: grey; height: 15px;" name="chevron-forward-outline"></ion-icon>\n                            </ion-item>\n                        </ion-card>\n                    </ion-row>\n                </ion-col>\n            </ion-col>\n\n        </ion-row>\n    </ion-grid>\n    <ion-grid [fixed]="true" *ngIf="isSkeleton">\n        <ion-row>\n            <ion-col>\n                <ion-card mode="ios" class="ion-margin " *ngFor="let list of [].constructor(3)">\n                    <ion-item lines="none">\n                        <ion-avatar slot="start">\n                            <ion-skeleton-text animated></ion-skeleton-text>\n                        </ion-avatar>\n                        <ion-label>\n                            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>\n                        </ion-label>\n                        <ion-label>\n                            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>\n                        </ion-label>\n                        <ion-label>\n                            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>\n                        </ion-label>\n                        <ion-icon name="ellipse" color="light"></ion-icon>\n                        <ion-icon name="ellipse" color="light"></ion-icon>\n                    </ion-item>\n                </ion-card>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-content>'}}]);