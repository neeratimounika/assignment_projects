(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{JLDx:function(n,i,o){"use strict";o.r(i),i.default='<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot="start">\n            <ion-menu-button></ion-menu-button>\n        </ion-buttons>\n        <ion-title></ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content class="ion-padding">\n\n    <ion-grid [fixed]="true">\n        <div style="height: 10px;"></div>\n        <ion-row>\n            <ion-col size="12">\n                <ion-text color="tertiary">\n                    <h2><strong>\n                           Settings\n                      </strong>\n                    </h2>\n                </ion-text>\n\n                <ion-text>\n                    <h4>Here you can find or change user & account information.\n                    </h4>\n                </ion-text>\n\n            </ion-col>\n        </ion-row>\n\n        <ion-row class="ion-no-padding ion-margin-top">\n            <ion-col size="12" size-xl="10" class="ion-no-padding ion-no-margin">\n\n                <ion-card mode="ios" class="ion-no-margin ion-margin-top">\n                    <ion-card-header>\n                        <ion-grid>\n                            <ion-row>\n                                <ion-col>\n                                    <ion-card-title color="tertiary" class="text-16">{{"Account Details" | translate}}\n                                    </ion-card-title>\n                                </ion-col>\n                            </ion-row>\n                        </ion-grid>\n                    </ion-card-header>\n                    <ion-item lines="full" *ngIf="profileData.user_alias">\n                        <ion-grid>\n                            <ion-row>\n                                <ion-col size="12" size-md="2">\n                                    <ion-label>\n                                        <p>{{"Username" | translate}}</p>\n                                    </ion-label>\n                                </ion-col>\n                                <ion-col size-md="1" class="ion-hide">\n                                    <ion-label>:</ion-label>\n                                </ion-col>\n                                <ion-col size="12" size-md="8">\n                                    <ion-label>\n                                        <p>{{profileData.user_alias}}</p>\n                                    </ion-label>\n                                    <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%">\n                                    </ion-skeleton-text>\n                                </ion-col>\n                                <ion-col size-md="1">\n                                    <ion-label> </ion-label>\n                                </ion-col>\n                            </ion-row>\n                        </ion-grid>\n                    </ion-item>\n                    <ion-item lines="full">\n                        <ion-grid>\n                            <ion-row>\n                                <ion-col size="12" size-md="2">\n                                    <ion-label>\n                                        <p>{{"Security PIN" | translate}}</p>\n                                    </ion-label>\n                                </ion-col>\n                                <ion-col size-md="1" class="ion-hide">\n                                    <ion-label>:</ion-label>\n                                </ion-col>\n                                <ion-col size="10" size-md="8">\n                                    <ion-label>\n                                        <p>{{profileData.user_name?\'******\':\'\'}}</p>\n                                    </ion-label>\n                                    <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%">\n                                    </ion-skeleton-text>\n                                </ion-col>\n                                <ion-col size-md="1" size="2" class="ion-text-right">\n                                    <ion-button fill="clear" size="small" title="{{\'Edit\' | translate}}" *ngIf="profileData.user_name" (click)="updatePIN()" class="ion-float-right" style="margin-top: 0px;">\n                                        <ion-icon name="create" class="cursor" color="primary"></ion-icon>\n                                    </ion-button>\n                                </ion-col>\n                            </ion-row>\n                        </ion-grid>\n                    </ion-item>\n                </ion-card>\n\n                \x3c!--authorization block--\x3e\n                <ion-card mode="ios" class="ion-no-margin ion-margin-top" *ngIf="account_linked && account_linked.length > 0">\n                    <ion-card-header>\n                        <ion-grid>\n                            <ion-row>\n                                <ion-col>\n                                    <ion-card-title color="tertiary" class="text-16">Account Linked\n                                    </ion-card-title>\n                                </ion-col>\n                            </ion-row>\n                            <ion-row>\n                                <ion-col>\n                                    <ion-text color="dark">You gave these sites and apps access to some of your DigiLocker Account data, including info that may be sensitive. Remove access for those you no longer trust or use.\n                                        \x3c!-- <a href=""> Learn about the risks</a> --\x3e\n                                    </ion-text>\n                                </ion-col>\n                            </ion-row>\n                        </ion-grid>\n                    </ion-card-header>\n                    <ion-item lines="full" *ngFor="let linked of account_linked">\n                        <ion-grid>\n                            <ion-row>\n                                \x3c!-- <ion-col size="1" size-md="1">\n                                    <ion-icon name="image-outline" style="font-size: 40px;"></ion-icon>\n                                </ion-col> --\x3e\n                                <ion-col size="8" size-md="10">\n                                    <ion-label style="margin-left: 20px; font-size: 40px;">\n                                        <p>{{linked.app_name}}</p>\n                                    </ion-label>\n                                    <ion-text style="margin-left: 20px;" color="medium"> <small>Has full access to DigiLocker Account </small></ion-text>\n\n                                </ion-col>\n                                <ion-col size-md="1" size="2" class="ion-text-end">\n\n                                    <ion-button fill="clear" size="small" (click)="viewDetails(linked)" title="{{\'View\' | translate}}" style="margin-right: 0px;">\n\n                                        <ion-icon name="eye" class="cursor" color="primary" size="small"></ion-icon>\n                                    </ion-button>\n                                </ion-col>\n                                <ion-col size-md="1" size="2" class="ion-text-center">\n\n                                    <ion-button fill="clear" size="small" (click)="deleteFile(linked.client_id,linked.app_name)" title="{{\'Delete\' | translate}}">\n\n                                        <ion-icon name="trash" class="cursor" color="danger" size="small"></ion-icon>\n                                    </ion-button>\n                                </ion-col>\n                            </ion-row>\n                        </ion-grid>\n                    </ion-item>\n                </ion-card>\n                \x3c!--authorization block end--\x3e\n\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-content>'},YNhx:function(n,i,o){"use strict";o.r(i),i.default=""},"j/5A":function(n,i,o){"use strict";o.r(i),i.default="ion-card-header {\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n}\n\nion-card-header {\n  --ion-background-color: #f8f9fc !important;\n  --background: #f8f9fc !important;\n}\n\nion-card-header ion-toolbar {\n  min-height: 0px !important;\n  --min-height: 0px;\n  --max-height: 22px;\n}\n\n.toolbar-background {\n  background: #f8f9fc;\n}\n\np {\n  color: #000;\n}"},jism:function(n,i,o){"use strict";o.r(i),i.default='<ion-content class="ion-padding">\n    <ion-grid>\n        <ion-toolbar>\n            <ion-title color="tertiary">\n                <strong> {{linked.app_name}}</strong>\n\n            </ion-title>\n            <ion-buttons slot="start">\n                <ion-button (click)="dismiss()" color="dark" fill="clear" shape="round" size="small">\n                    <ion-icon ios="arrow-back" md="arrow-back"></ion-icon>\n                </ion-button>\n            </ion-buttons>\n        </ion-toolbar>\n\n        <ion-row>\n            <ion-col>\n                \x3c!-- <ion-item> --\x3e\n                \x3c!-- <ion-col size="12">\n                    <ion-label>Has full access to DigiLocker Account</ion-label>\n                </ion-col> --\x3e\n                \x3c!-- <ion-col size="1">\n                        <ion-label>:</ion-label>\n                    </ion-col>\n                    <ion-col size="7">\n                        <ion-label class="ion-text-capitalize">{{linked.app_name}}</ion-label>\n                        <ion-skeleton-text *ngIf="!nominee" animated style="width: 50%"></ion-skeleton-text>\n                    </ion-col> --\x3e\n                \x3c!-- </ion-item> --\x3e\n                <ion-item>\n                    <ion-col size="6">\n                        <ion-label>You have granted access on</ion-label>\n                    </ion-col>\n                    <ion-col size="1">\n                        <ion-label>:</ion-label>\n                    </ion-col>\n                    <ion-col size="5" >\n                        <ion-label>{{linked.last_date}}</ion-label>\n                        \x3c!-- <ion-skeleton-text *ngIf="!nominee" animated style="width: 50%"></ion-skeleton-text> --\x3e\n                    </ion-col>\n                </ion-item>\n            </ion-col>\n        </ion-row>\n        \x3c!-- <ion-row class="ion-margin-top">\n            <ion-col class="ion-text-center">\n                <ion-text>Seeing something suspicious? <br> <a href="https://support.digitallocker.gov.in/open" target="_blank">Report the issue </a></ion-text>\n            </ion-col>\n        </ion-row> --\x3e\n        <ion-row class="ion-margin-top">\n            <ion-col class="ion-text-center">\n                <ion-button color="danger" (click)="deleteFile(linked.client_id,linked.app_name)">Remove Access</ion-button>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-content>'},yPrK:function(n,i,o){"use strict";o.r(i),o.d(i,"SettingsPageModule",(function(){return k}));var e=o("mrSG"),t=o("fXoL"),l=o("ofXK"),s=o("3Pt+"),a=o("TEn/"),c=o("tyNb"),r=o("AytR"),d=o("sRcL"),u=o("pZaC"),h=o("9ans");let m=class{constructor(n,i,o,e,t){this.modalController=n,this.navparam=i,this.ajax=o,this.auth=e,this.alertCtrl=t,this.linked=this.navparam.get("linked")}ngOnInit(){}deleteFile(n,i){return Object(e.b)(this,void 0,void 0,(function*(){(yield this.showDeleteFileAlert())&&this.accountunlink(n,i)}))}showDeleteFileAlert(){return Object(e.b)(this,void 0,void 0,(function*(){return new Promise(n=>Object(e.b)(this,void 0,void 0,(function*(){const i=yield this.alertCtrl.create({header:"",message:"Are you sure you want to Remove access?",buttons:[{text:"Cancel",role:"cancel",handler:()=>n(!1)},{text:"Remove",handler:()=>n(!0)}]});yield i.present()})))}))}accountunlink(n,i){let o=r.a.authorization_unlink+"/"+n,e={jtoken:this.auth.getToken(),"device-security-id":this.auth.getDeviceId()};this.ajax.patchMethod(o,e).subscribe(n=>{null==n?(this.ajax.showToast(i+" Unlink successfully.",5e3,"success","bottom"),this.dismiss(!0)):this.ajax.showToast(n.message,5e3,"danger","bottom")})}dismiss(n=!1){this.modalController.dismiss({dismissed:n})}};m.ctorParameters=()=>[{type:a.h},{type:a.j},{type:d.a},{type:h.a},{type:a.a}],m=Object(e.c)([Object(t.n)({selector:"app-view-details",template:Object(e.e)(o("jism")).default,styles:[Object(e.e)(o("YNhx")).default]})],m);var p=o("jhN1");let b=class{constructor(n,i,o,e,t){this.ajax=n,this.modalController=i,this.auth=o,this.alertCtrl=e,this.titleService=t,this.profileData=[],this.profilemobileno=null}ngOnInit(){this.getProfileDetails(),this.accountLinked()}ionViewDidEnter(){this.titleService.setTitle("Setting")}getProfileDetails(){return Object(e.b)(this,void 0,void 0,(function*(){yield this.ajax.postMethod(r.a.profile,"",{}).subscribe(n=>{n.customDob=n.date_of_birth?n.date_of_birth.slice(0,10):null,this.profileData=n,this.profilemobileno=this.profileData.mobile})}))}updatePIN(){return Object(e.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:u.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{profile:this.profileData},backdropDismiss:!1});n.present(),n.onDidDismiss().then(n=>{n.data.dismissed&&this.getProfileDetails()})}))}accountLinked(){let n=r.a.authorization_list,i={jtoken:this.auth.getToken(),"device-security-id":this.auth.getDeviceId()};this.ajax.getMethod(n,i).subscribe(n=>{0==n.status?this.ajax.showToast(n.message,5e3,"danger","bottom"):this.account_linked=n})}deleteFile(n,i){return Object(e.b)(this,void 0,void 0,(function*(){(yield this.showDeleteFileAlert())&&this.accountunlink(n,i)}))}showDeleteFileAlert(){return Object(e.b)(this,void 0,void 0,(function*(){return new Promise(n=>Object(e.b)(this,void 0,void 0,(function*(){const i=yield this.alertCtrl.create({header:"",message:"Are you sure you want to Remove access?",buttons:[{text:"Cancel",role:"cancel",handler:()=>n(!1)},{text:"Remove",handler:()=>n(!0)}]});yield i.present()})))}))}accountunlink(n,i){let o=r.a.authorization_unlink+"/"+n,e={jtoken:this.auth.getToken(),"device-security-id":this.auth.getDeviceId()};this.ajax.patchMethod(o,e).subscribe(n=>{n?this.ajax.showToast(n.message,5e3,"danger","bottom"):(this.ajax.showToast(i+" Unlink successfully.",5e3,"success","bottom"),this.accountLinked())})}viewDetails(n){return Object(e.b)(this,void 0,void 0,(function*(){n.last_date=yield this.lastlogIn(n.created_date);const i=yield this.modalController.create({component:m,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{linked:n},backdropDismiss:!1});i.present(),i.onDidDismiss().then(n=>{n.data.dismissed&&this.accountLinked()})}))}lastlogIn(n){return n.slice(0,16).split("T")}};b.ctorParameters=()=>[{type:d.a},{type:a.h},{type:h.a},{type:a.a},{type:p.d}],b=Object(e.c)([Object(t.n)({selector:"app-settings",template:Object(e.e)(o("JLDx")).default,styles:[Object(e.e)(o("j/5A")).default]})],b);const g=[{path:"",component:b}];let f=class{};f=Object(e.c)([Object(t.M)({imports:[c.i.forChild(g)],exports:[c.i]})],f);var x=o("sYmb");let k=class{};k=Object(e.c)([Object(t.M)({imports:[l.b,s.b,a.d,f,x.b.forChild()],declarations:[b]})],k)}}]);